<!DOCTYPE html>

<html><head>
		<title>Modify existing station</title>
{% load static %} 
<script src="{%static 'jquery-3.6.0.js'%}"></script>
<link rel="stylesheet" type="text/css" href="{%static 'tailwind.min.css'%}"/>
<link rel="stylesheet" type="text/css" href="{%static 'switch.css'%}"/>
		<script>
function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    const csrftoken = getCookie('csrftoken');
		</script>


{% block javascript %}
  <script>

$(document).ready(function () {
    $("#idselectbox").change(function () {
      var id=$(this).val();


 $.ajax({
        url: '/ajax/',
        type: "POST",
        data: {
            id: id
        },
        beforeSend: function (xhr) {
            xhr.setRequestHeader("X-CSRFToken", csrftoken);
        },
        success: function (data) {
			  console.log(data.id);
            console.log(data.name);
			  var newText ='<input type="hidden" class="" name="id" value="'+data.id+'">';
			  var newText2 ='<span class="text-sm font-medium bg-gray-100 py-1 px-2 rounded text-black-500 align-middle">name</span><input type="text" name="name" class="px-2 py-1 placeholder-gray-400 text-gray-600 relative bg-white bg-white rounded text-sm border border-gray-400 outline-none focus:outline-none focus:ring w-full"   value="'+data.name+'">';
			  var newText3 ='<br><span class="text-sm font-medium bg-gray-100 py-1 px-2 rounded text-black-500 align-middle">url</span><input type="text" name="url" class="px-2 py-1 placeholder-gray-400 text-gray-600 relative bg-white bg-white rounded text-sm border border-gray-400 outline-none focus:outline-none focus:ring w-full"  value="'+data.url+'">';
			  var newText4='<br><button  class="bg-white-500 text-gray  font-bold uppercase text-xs px-4 py-2 rounded shadow  outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150 hover:bg-black hover:text-white" type="submit" align="right">Modify</button>'

	  newText=newText+newText2+newText3+newText4;
    //Change the text using the text method.
    $('#ajaxform').html(newText);
        },
        error: function (error) {
            console.log(error);
        }
    });





//The new text that we want to show.


	      });
	  });





  </script>

{% endblock %}




	</head>

	<body>


{% include "menu.html" %}

<style>

    body{background:white!important;}

</style>
<p class="text-lg text-center font-bold m-5" align="center">Modify Radio</p>
<table class="rounded-t-lg m-5 w-5/6 mx-auto bg-gray-200 text-gray-800" align="center">


		<tr class="bg-gray-100 border-b border-gray-200"><td class="px-4 py-3"  align="center">Select Radio to Modify :</td>

			<td>
<select name='selectbox' id='idselectbox'>

{%for radio in radios %}
<option value='{{radio.id}}'>{{radio.name}}</option>
{% endfor %}  
</select>
	</td>
  </tr>
	</table>


	<form action="" method="post"  class="w-full max-w-lg">
	{% csrf_token %}
	<div class="grid justify-items-stretch" >
	<div id='ajaxform' class="justify-self-end"> </div>
</form>
	</div>
{%if change %}

<div
class="flex w-full max-w-sm mx-auto overflow-hidden bg-white rounded-lg shadow-md dark:bg-gray-800"
>
<div class="flex items-center justify-center w-12 bg-green-500">
  <svg
    class="w-6 h-6 text-white fill-current"
    viewBox="0 0 40 40"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"
    />
  </svg>
</div>

<div class="px-4 py-2 -mx-3">
  <div class="mx-3">
    <span class="font-semibold text-green-500 dark:text-green-400"
      >Success</span
    >
    <p class="text-sm text-gray-600 dark:text-gray-200">
    Data has been modified !
    </p>
  </div>
</div>
</div>






{% endif %}




</body>
</html>
